# mediasoft_test
Тестовое задание Python
Бурмацкий Антон

# Описание проекта
Проект на django, который даёт REST API доступ к следующим сущностям: 
* Город (City) - только чтение.
* Улица (Street) - только чтение.
* Магазин (Shop) - чтение и создание.
Модели БД, views и urls расположенны в приложении shops.

Запросы
-------
* GET /city/ — получение всех городов из базы;
* GET /city/<city_id:int>/street/ — получение всех улиц города;
  (city_id — идентификатор города)
* POST /shop/ — создание магазина; Данный метод получает json c объектом магазина, в ответ возвращает id созданной записи.
* GET /shop/?street=<street_id:int>&city=<city_id:int>&open=0/1 — получение списка магазинов.

# Подготовительные действия
1. Создать пустую PostgreSQL БД
2. В папке mediasoft_test, где расположен settings.py, создать .env с следующими переменными:
   * DATABASE_NAME
   * DATABASE_USER
   * DATABASE_PASS
3. Установить все пакеты из файла requirements.txt
4. Провести миграцию моделей (python manage.py migrate)
5. (Опционально) На странице Магазины в админ-панели (/admin/shops/shop/) нажать кнопку "Сгенерировать магазины" (верхний правый угол), это создаст 1110 городов (из russian-cities.json) и по 10 улиц и магазинов в каждом из них.

# Как запустить проект
Находясь в корневой папке проекта использовать команду python manage.py runserver